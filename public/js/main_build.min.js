!function t(e,o,i){function r(s,a){if(!o[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var h=o[s]={exports:{}};e[s][0].call(h.exports,function(t){var o=e[s][1][t];return r(o?o:t)},h,h.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){function o(t,e,o){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.scale*=.33,this.side=o||"left",this.modelChoices=[i.BABY_ARM,i.FOOTBALL_ARM,i.LOWPOLY_ARM]}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){this.modelName==i.BABY_ARM?(this.rotate(0,Math.PI/2,0),this.move(0,19,-20),"left"==this.side?this.move(20,0,0):this.move(11.5,0,0)):this.modelName==i.FOOTBALL_ARM?(this.scale*=15,this.scaleBody(this.scale),this.move(0,-10,0),"left"==this.side?this.move(16,0,0):(this.move(-10,0,0),this.mesh.scale.x*=-1)):this.modelName==i.LOWPOLY_ARM&&(this.move(0,10,0),"left"==this.side?(this.move(13,0,0),this.mesh.scale.x*=-1):this.move(-13,0,0))}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],2:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.scale*=.5,this.modelChoices=[i.BABY_TORSO,i.LOWPOLY_TORSO]}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){var t=this;t.modelName==i.BABY_TORSO?(t.scale*=.75,t.scaleBody(t.scale),t.move(1.5,6,0)):t.modelName==i.FOOTBALL_TORSO?(t.scale*=7.5,t.scaleBody(t.scale),t.move(-2,-24,0)):t.modelName==i.LOWPOLY_TORSO&&t.move(0,-15,-4)}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],3:[function(t,e){function o(){this.modelChoices=[],this.melting=!1}var i=t("./lib/kutility"),r=t("./model_names");e.exports=o,o.prototype.move=function(t,e,o){this.mesh&&(this.mesh.position.x+=t,this.mesh.position.y+=e,this.mesh.position.z+=o)},o.prototype.rotate=function(t,e,o){this.mesh&&(this.mesh.rotation.x+=t,this.mesh.rotation.y+=e,this.mesh.rotation.z+=o)},o.prototype.moveTo=function(t,e,o){this.mesh&&(this.mesh.position.set(t,e,o),this.move(0,0,0))},o.prototype.scaleBody=function(t){this.mesh&&this.mesh.scale.set(t,t,t)},o.prototype.scaleMultiply=function(t){this.mesh&&this.mesh.scale.set(this.initialScale.x*t,this.initialScale.y*t,this.initialScale.z*t)},o.prototype.swell=function(t){var e=this;this.scaleMultiply(t),this.materials.forEach(function(o,i){var r=e.initialMaterialColors[i],n=r.r;t>1.05&&(n=Math.max(Math.min(1,r.r*t),r.r));var s={r:n,g:r.g,b:r.b};o.color=s})},o.prototype.reset=function(){this.moveTo(this.initialPosition.x,this.initialPosition.y,this.initialPosition.z),this.mesh.rotation.x=this.initialRotation.x,this.mesh.rotation.y=this.initialRotation.y,this.mesh.rotation.z=this.initialRotation.z,this.cancelMelt(),this.swell(1)},o.prototype.cancelMelt=function(t){var e=this;this.melting=!1,this.resetMeltParameters();var o=0;t&&(o=1500),setTimeout(function(){for(var t=0;t<e.originalVertices.length;t++){var o=e.originalVertices[t];e.geometry.vertices[t]={x:o.x,y:o.y,z:o.z}}e.geometry.verticesNeedUpdate=!0},o)},o.prototype.resetMeltParameters=function(){this.lastVertexModified=-1,this.maxMelt=i.randInt(150,20),this.meltCount=0,this.step=i.randInt(1e3,100),this.startI=i.randInt(this.step-1,0)},o.prototype.meltValue=function(){return(Math.random()-.5)*this.meltIntensity},o.prototype.addTo=function(t,e){var o=this;o.modelName=o.specificModelName||i.choice(o.modelChoices),r.loadModel(o.modelName,function(i,r){o.geometry=i,o.materials=r,o.mesh=new THREE.SkinnedMesh(i,new THREE.MeshFaceMaterial(r)),o.scaleBody(o.scale),o.moveTo(o.startX,o.startY,o.startZ),o.additionalInit(),o.initialPosition={x:o.mesh.position.x,y:o.mesh.position.y,z:o.mesh.position.z},o.initialScale={x:o.mesh.scale.x,y:o.mesh.scale.y,z:o.mesh.scale.z},o.initialRotation={x:o.mesh.rotation.x,y:o.mesh.rotation.y,z:o.mesh.rotation.z},o.initialMaterialColors=[],o.materials.forEach(function(t){o.initialMaterialColors.push(t.color)}),o.verts=i.vertices,o.originalVertices=[];for(var n=0;n<o.verts.length;n++){var s=o.verts[n];o.originalVertices.push({x:s.x,y:s.y,z:s.z})}o.resetMeltParameters(),o.meltIntensity=.1,t.add(o.mesh),e&&e(o)})},o.prototype.render=function(){if(this.melting&&this.geometry){for(var t=this.startI;t<this.verts.length;t+=this.step){var e=this.verts[t];e.x+=this.meltValue(),e.y+=this.meltValue(),e.z+=this.meltValue(),t+this.step>=this.verts.length&&(this.lastVertexModified=t)}this.geometry.verticesNeedUpdate=!0,++this.meltCount>=this.maxMelt&&this.resetMeltParameters()}this.additionalRender()},o.prototype.fallToFloor=function(t,e){t||(t=1.5),e||(e=.5);var o=this,i=setInterval(function(){var r=Math.random()*-e;o.move(0,r,0),o.mesh&&o.mesh.position.y<t&&clearInterval(i)},24)},o.prototype.additionalInit=function(){},o.prototype.additionalRender=function(){}},{"./lib/kutility":14,"./model_names":17}],4:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.specificModelName=i.BOXING_RING}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],5:[function(t,e,o){function i(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix()}function r(t,e,o){o||(o={}),o.near||(o.near=.1),o.far||(o.far=2e4),this.cam=new THREE.PerspectiveCamera(45,t.innerWidth/t.innerHeight,o.near,o.far),n=this.cam,t.addEventListener("resize",i,!1),this.window=t,this.objects=[]}{var n=(document.body,{});t("./lib/kutility")}e.exports=o=r,r.prototype.addObject=function(t){this.objects.push(t)},r.prototype.render=function(){}},{"./lib/kutility":14}],6:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.position=t,this.scale=e||5,this.leftArm=new n({x:this.startX-e,y:this.startY-e,z:this.startZ},e,"left"),this.rightArm=new n({x:this.startX+e,y:this.startY-e,z:this.startZ},e,"right"),this.leftHand=new h({x:this.startX-e,y:this.startY-e,z:this.startZ},e,"left"),this.rightHand=new h({x:this.startX+e,y:this.startY-e,z:this.startZ},e,"right"),this.leftLeg=new s({x:this.startX-.4*e,y:this.startY-.75*e,z:this.startZ},e),this.rightLeg=new s({x:this.startX+.4*e,y:this.startY-.75*e,z:this.startZ},e),this.leftFoot=new c({x:this.startX-.5*e,y:this.startY-1.5*e,z:this.startZ},e,"left"),this.rightFoot=new c({x:this.startX+.5*e,y:this.startY-1.5*e,z:this.startZ},e,"right"),this.torso=new l({x:this.startX,y:this.startY,z:this.startZ},e),this.head=new a({x:this.startX,y:this.startY+.25*e,z:this.startZ},e),this.bodyParts=[this.leftArm,this.rightArm,this.leftHand,this.rightHand,this.leftLeg,this.rightLeg,this.leftFoot,this.rightFoot,this.torso,this.head],this.twitching=!1,this.melting=!1}function i(){return 2*(Math.random()-.5)}var r=t("./lib/kutility"),n=(t("./model_names"),t("./arm")),s=t("./leg"),a=t("./head"),l=t("./body"),h=t("./hand"),c=t("./foot");e.exports=o,o.prototype.addTo=function(t){this.scene=t,this.bodyParts.forEach(function(e){e.addTo(t)})},o.prototype.move=function(t,e,o){this.position.x+=t,this.position.y+=e,this.position.z+=o,this.bodyParts.forEach(function(i){i.move(t,e,o)})},o.prototype.moveTo=function(t,e,o){var i=t-this.position.x,r=e-this.position.y,n=o-this.position.z;this.move(i,r,n)},o.prototype.rotate=function(t,e,o){this.bodyParts.forEach(function(i){i.rotate(t,e,o)})},o.prototype.scaleBody=function(t){this.bodyParts.forEach(function(e){e.scaleBody(t)})},o.prototype.scaleMultiply=function(t){this.bodyParts.forEach(function(e){e.scaleMultiply(t)})},o.prototype.reset=function(){this.melting=!1,this.bodyParts.forEach(function(t){t.reset()})},o.prototype.swell=function(t){this.bodyParts.forEach(function(e){e.swell(t)})},o.prototype.cancelMelt=function(t){this.melting=!1,this.bodyParts.forEach(function(e){e.cancelMelt(t)})},o.prototype.discombobulate=function(t){function e(){function t(){for(var i=0;i<o.bodyParts.length;i++){var n=o.bodyParts[i],s=e[i];n.move(s.x,s.y,s.z)}++a<250&&setTimeout(t,r.randInt(30,15))}for(var e=[],n=0;n<o.bodyParts.length;n++){var s={x:1.25*i(),y:1.25*i(),z:-1.25*Math.random()};e.push(s)}var a=0;t()}var o=this,n=setInterval(function(){var i=!0;o.bodyParts.forEach(function(t){t.mesh.position.y>-33&&(t.move(0,-.6,0),i=!1)}),i&&(clearInterval(n),t(),e())},20)},o.prototype.render=function(){var t=this;if(this.twitching){var e=2*(Math.random()-.5),o=0,i=2*(Math.random()-.5);this.move(e,o,i);var r=1e-4*(Math.random()-.5),n=.4*(Math.random()-.5),s=1e-4*(Math.random()-.5);this.rotate(r,n,s)}this.bodyParts.forEach(function(e){e.melting=t.melting,e.render()})}},{"./arm":1,"./body":2,"./foot":9,"./hand":10,"./head":11,"./leg":13,"./lib/kutility":14,"./model_names":17}],7:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.specificModelName=i.LAPTOP}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],8:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.specificModelName=r.FITNESS_TOWER}function i(t){return t||(t=1),2*(Math.random()-.5)*t}var r=(t("./lib/kutility"),t("./model_names")),n=t("./bodypart");e.exports=o,o.prototype.__proto__=n.prototype,o.prototype.additionalInit=function(){},o.prototype.additionalRender=function(){this.move(i(.04),i(.04),i(.04))}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],9:[function(t,e){function o(t,e,o){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.scale*=.1,this.side==o||"left",this.modelChoices=[i.FOOT,i.FOOTBALL_FOOT]}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){this.modelName==i.FOOT?(this.rotate(0,-Math.PI/2,0),this.scale*=1.5,this.scaleBody(this.scale),this.move(0,-5,0),"right"==this.side&&(this.mesh.scale.x*=-1)):this.modelName==i.FOOTBALL_FOOT&&(this.scale*=60,this.scaleBody(this.scale),this.move(0,-13,0),"right"==this.side&&(this.mesh.scale.x*=-1))}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],10:[function(t,e){function o(t,e,o){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.side=o||"left",this.scale=e||1,this.scale*=.1,this.modelChoices=[i.HAND,i.FOOTBALL_HAND]}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){this.modelName==i.HAND?(this.move(0,9,0),"left"==this.side?this.rotate(-Math.PI/2,Math.PI/2,0):this.rotate(-Math.PI/2,Math.PI/2,0)):this.modelName==i.FOOTBALL_HAND&&(this.scale*=45,this.scaleBody(this.scale),this.move(0,-6,0),"left"==this.side?this.move(8,0,0):(this.move(-10,0,0),this.mesh.scale.x*=-1))}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],11:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.scale*=.3,this.modelChoices=[i.HEAD,i.BABY_HEAD]}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){var t=this;t.modelName==i.HEAD?(t.scale*=.35,t.scaleBody(t.scale),t.move(0,12,0)):t.modelName==i.BABY_HEAD?(t.scale*=1.2,t.scaleBody(t.scale),t.move(0,0,1.4)):t.modelName==i.FOOTBALL_HEAD?(t.scale*=25,t.scaleBody(t.scale),t.move(1.5,-63,0)):t.modelName==i.LOWPOLY_HEAD&&(t.scale*=1.5,t.scaleBody(t.scale),t.move(0,-15,0))}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],12:[function(t,e){function o(t,e,o,i,r){r||(r={x:!0,y:!0,z:!0});var n=0,s=0,a=0;r.x&&(n=(e.x-o.x)/i),r.y&&(s=(e.y-o.y)/-i),r.z&&(a=(e.z-o.z)/-i),t.move(n,s,a)}function i(t,e){var o=1+20*(e/U);t.swell(o)}function r(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}}function n(t){return Math.abs(t.x)+Math.abs(t.y)+Math.abs(t.z)}function s(t){N.rightHand1&&[F.rightHand,F.rightArm].forEach(function(e){o(e,t,N.rightHand1,10)}),N.rightHand1=t}function a(t){if(N.rightHand1){var e=N.rightHand1;Y.hand1={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z},T(Y.hand1)}N.leftHand1&&[F.leftHand,F.leftArm].forEach(function(e){o(e,t,N.leftHand1,10)}),N.leftHand1=t}function l(){}function h(t){if(N.head1&&Y.torso1&&n(Y.torso1)<V){var e=r(t,N.head1),o=n(e);o>W?(0==j.one&&S.emit("startSwell",1),j.one=Math.min(j.one+1,U)):(1==j.one&&S.emit("endSwell",1),j.one=Math.max(j.one-1,0)),i(F,j.one)}N.head1=t}function c(t){if(N.rightKnee1){var e=N.rightKnee1;Y.knee1={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z},M(Y.knee1)}N.leftKnee1&&[F.leftLeg,F.leftFoot].forEach(function(e){o(e,t,N.leftKnee1,8)}),N.leftKnee1=t}function p(t){N.rightKnee1&&[F.rightLeg,F.rightFoot].forEach(function(e){o(e,t,N.rightKnee1,8)}),N.rightKnee1=t}function f(t){if(N.rightElbow1){var e=N.rightElbow1;Y.elbow1={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z},H(Y.elbow1)}P.target.position=t,N.leftElbow1=t}function m(t){P.intensity=Math.abs(t.y)/30,N.rightElbow1=t}function d(t){N.torso1&&(o(F,t,N.torso1,8,{x:!0,y:!1,z:!0}),Y.torso1=r(t,N.torso1)),N.torso1=t}function y(t){N.rightHand2&&[k.rightHand,k.rightArm].forEach(function(e){o(e,t,N.rightHand2,10,{x:!0,y:!1,z:!0})}),N.rightHand2=t}function u(t){if(N.rightHand2){var e=N.rightHand2;Y.hand2={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z},z(Y.hand2)}N.leftHand2&&[k.leftHand,k.leftArm].forEach(function(e){o(e,t,N.leftHand2,10)}),N.leftHand2=t}function v(){}function g(t){if(N.head2&&Y.torso2&&n(Y.torso2)<V){var e=r(t,N.head2),o=n(e);o>W?(0==j.two&&S.emit("startSwell",2),j.two=Math.min(j.two+1,U)):(1==j.two&&S.emit("endSwell",2),j.two=Math.max(j.two-1,0)),i(k,j.two)}N.head2=t}function w(t){if(N.rightKnee2){var e=N.rightKnee2;Y.knee2={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z},O(Y.knee2)}N.leftKnee2&&[k.leftLeg,k.leftFoot].forEach(function(e){o(e,t,N.leftKnee2,8,{x:!0,y:!0,z:!0})}),N.leftKnee2=t}function x(t){N.rightKnee2&&[k.rightLeg,k.rightFoot].forEach(function(e){o(e,t,N.rightKnee2,8,{x:!0,y:!0,z:!0})}),N.rightKnee2=t}function b(t){if(N.rightElbow2){var e=N.rightElbow2;Y.elbow2={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z},L(Y.elbow2)}n(t);P.distance=t.y,N.leftElbow2=t}function _(t){n(t);P.angle=Math.PI/2*Math.min(1,Math.abs(t.y)/400),N.rightElbow2=t}function E(t){N.torso2&&(o(k,t,N.torso2,8),Y.torso2=r(t,N.torso2)),N.torso2=t}function T(t){var e=n(t),o=new Date;if(q>e){!X.one.melting&&o-X.one.meltEndTime>1500&&(X.one.melting=!0,X.one.meltStartTime=new Date,F.melting=!0);var i=.01*(q-e)+.03;F.meltIntensity=i}else X.one.melting&&o-X.one.meltStartTime>1500&&(X.one.melting=!1,X.one.meltEndTime=o,F.cancelMelt(!0));S.emit("handDelta",1,e)}function z(t){var e=n(t),o=new Date;if(q>e){!X.two.melting&&o-X.two.meltEndTime>1500&&(X.two.melting=!0,X.two.meltStartTime=new Date,k.melting=!0);var i=.01*(q-e)+.03;k.meltIntensity=i}else X.two.melting&&o-X.two.meltStartTime>1500&&(X.two.melting=!1,X.two.meltEndTime=o,k.cancelMelt(!0));S.emit("handDelta",2,e)}function M(t){var e=n(t);G>e?(Z.one.rotating||(S.emit("startKnees",1),Z.one.rotating=!0),F.rotate(0,.1,0)):Z.one.rotating&&(S.emit("endKnees",1),Z.one.rotating=!1)}function O(t){var e=n(t);G>e?(Z.two.rotating||(S.emit("startKnees",2),Z.two.rotating=!0),k.rotate(0,-.1,0)):Z.two.rotating&&(S.emit("endKnees",2),Z.two.rotating=!1)}function H(t){var e=n(t);e>$&&B(1)?(N.rightHand1.y<N.rightElbow1.y-10&&N.leftHand1.y>N.leftElbow1.y+10?(K.one.rotUp||(K.one.rotUp=!0,S.emit("startElbowRotUp",1)),F.rotate(.08,0,0)):A(!0,!1),N.rightHand1.y>N.rightElbow1.y+10&&N.leftHand1.y<N.leftElbow1.y-10?(K.one.rotDown||(K.one.rotDown=!0,S.emit("startElbowRotDown",1)),F.rotate(-.08,0,0)):A(!1,!0)):A(!0,!0),D.elbow1=t}function L(t){var e=n(t);e>$&&B(2)?(N.rightHand2.y<N.rightElbow2.y-10&&N.leftHand2.y>N.leftElbow2.y+10?(K.two.rotUp||(K.two.rotUp=!0,S.emit("startElbowRotUp",2)),k.rotate(-.08,0,0)):R(!0,!1),N.rightHand2.y>N.rightElbow2.y+10&&N.leftHand2.y<N.leftElbow2.y-10?(K.two.rotDown||(K.two.rotDown=!0,S.emit("startElbowRotDown",2)),k.rotate(.08,0,0)):R(!1,!0)):R(!0,!0),D.elbow2=t}function A(t,e){t&&K.one.rotUp&&(K.one.rotUp=!1,S.emit("endElbowRotUp",1)),e&&K.one.rotDown&&(K.one.rotDown=!1,S.emit("endElbowRotDown",1))}function R(t,e){t&&K.two.rotUp&&(K.two.rotUp=!1,S.emit("endElbowRotUp",2)),e&&K.two.rotDown&&(K.two.rotDown=!1,S.emit("endElbowRotDown",2))}function B(t){var e,o,i,r;return 1==t?(e=N.leftHand1,o=N.rightHand1,i=N.leftElbow1,r=N.rightElbow1):(e=N.leftHand2,o=N.rightHand2,i=N.leftElbow2,r=N.rightElbow2),e&&o&&i&&r?e.x>i.x&&o.x<r.x:!1}var F,k,I,P,S=io("http://localhost:8888"),N={},Y={},D={},j={one:0,two:0},C=new Date,X={one:{meltEndTime:C,meltStartTime:C},two:{meltEndTime:C,meltStartTime:C}},Z={one:{rotating:!1},two:{rotating:!1}},K={one:{rotUp:!1,rotDown:!1},two:{rotUp:!1,rotDown:!1}},W=15,U=500,V=11,G=60,$=300,q=100;e.exports.begin=function(t,e,o,i){F=t,k=e,I=o,P=i,S.on("leftHand",function(t){1==t.wrestler?a(t.position):u(t.position)}),S.on("rightHand",function(t){1==t.wrestler?s(t.position):y(t.position)}),S.on("closestHand",function(t){1==t.wrestler?l(t.position):v(t.position)}),S.on("head",function(t){1==t.wrestler?h(t.position):g(t.position)}),S.on("leftKnee",function(t){1==t.wrestler?c(t.position):w(t.position)}),S.on("rightKnee",function(t){1==t.wrestler?p(t.position):x(t.position)}),S.on("leftElbow",function(t){1==t.wrestler?f(t.position):b(t.position)}),S.on("rightElbow",function(t){1==t.wrestler?m(t.position):_(t.position)}),S.on("torso",function(t){1==t.wrestler?d(t.position):E(t.position)})}},{}],13:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.scale*=.25,this.modelChoices=[i.FOOTBALL_LEG]}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){var t=this;t.modelName==i.FOOTBALL_LEG?(t.scale*=15,t.scaleBody(t.scale),t.move(3,-20,0)):t.modelName==i.LOWPOLY_LEG}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],14:[function(t,e){function o(){}function i(t,e){t.css("-webkit-box-shadow",e),t.css("-moz-box-shadow",e),t.css("box-shadow",e)}e.exports=new o,o.prototype.choice=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},o.prototype.shuffle=function(t){for(var e=new Array(t.length),o=0;o<t.length;o++)e[o]=t[o];return e.sort(function(){return.5-Math.random()}),e},o.prototype.randColor=function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),o=Math.floor(256*Math.random());return"rgb("+t+","+e+","+o+")"},o.prototype.randInt=function(t,e){return e?Math.floor(Math.random()*(t-e))+e:Math.floor(Math.random()*t)},o.prototype.colorWheel=function(t){var e="rgb(",o=t%1536,t=o%256;return 256>o?e+"0,255,"+t+")":512>o?e+"0,"+(255-t)+",255)":768>o?e+t+",0,255)":1024>o?e+"255,0,"+(255-t)+")":1280>o?e+"255,"+t+",0)":e+(255-t)+",255,0)"},o.prototype.alphize=function(t,e){return t.replace("rgb","rgba"),t.replace(")",", "+e+")"),t},o.prototype.contrasters=function(){var t=Math.floor(1536*Math.random()),e=this.colorWheel(t),o=this.colorWheel(t+650);return[e,o]},o.prototype.randomShadow=function(t,e){var o=e+"px",r="0px 0px "+o+" "+o+" "+this.randColor();i(t,r)},o.prototype.shadow=function(t,e,o,r,n,s){var a=e+"px",l=o+"px",h=r+"px",c=n+"px",p=a+" "+l+" "+h+" "+c+" "+s;i(t,p)},o.prototype.addTransform=function(t,e){var o=this.getTransform(t);o=o.replace("none","");var i=o+e;this.setTransform(t,i)},o.prototype.setTransform=function(t,e){t.css("-webkit-transform",e),t.css("-moz-transform",e),t.css("-ms-transform",e),t.css("-o-transform",e),t.css("transform",e)},o.prototype.getTransform=function(t){for(var e=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],o=0;o<e.length;o++){var i=t.css(e[o]);if("none"==i&&o+1<e.length){var r=t.css(e[o+1]);if(r)continue}return i}},o.prototype.clearTransforms=function(t){t.css("-webkit-transform",""),t.css("-moz-transform",""),t.css("-ms-transform",""),t.css("-o-transform",""),t.css("transform","")},o.prototype.rotate=function(t,e){var o=this.getTransform(t);o=o.replace(/matrix\(.*?\)/,"").replace("none","");var i=" rotate("+e+"deg)";this.setTransform(t,o+i)},o.prototype.scale=function(t,e){var o=this.getTransform(t);o=o.replace(/matrix\(.*?\)/,"").replace("none","");var i=" scale("+e+","+e+")";this.setTransform(t,o+i)},o.prototype.translate=function(t,e,o){var i=this.getTransform(t);console.log(i),i=i.replace(/matrix\(.*?\)/,"").replace("none","");var r=" translate("+e+", "+o+")";this.setTransform(t,i+r)},o.prototype.skew=function(t,e,o){var i=this.getTransform(t);i=i.replace(/skew\(.*?\)/,"").replace(/matrix\(.*?\)/,"").replace("none","");var r=e+"deg",n=o+"deg",s=" skew("+r+", "+n+")";this.setTransform(t,i+s)},o.prototype.warp=function(t,e,o,i){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var n=" rotate("+e+"deg)",s=o+"deg",a=i+"deg",l=" skew("+s+", "+a+")";this.setTransform(t,r+n+l)},o.prototype.slaw=function(t,e,o,i){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var n=" scale("+e+","+e+")",s=" translate("+o+", "+i+")";this.setTransform(t,r+n+s)},o.prototype.straw=function(t,e,o){var i=this.getTransform(t);i=i.replace(/matrix\(.*?\)/,"").replace("none","");var r=" scale("+e+","+e+")",n=" rotate("+o+"deg)";this.setTransform(t,i+r+n)},o.prototype.perp=function(t,e){var o=e+"px";t.css("-webkit-perspective",o),t.css("-moz-perspective",o),t.css("-ms-perspective",o),t.css("-o-perspective",o),t.css("perspective",o)},o.prototype.perpo=function(t,e,o){var i=e+"% "+o+"%";t.css("-webkit-perspective-origin",i),t.css("-moz-perspective-origin",i),t.css("-ms-perspective-origin",i),t.css("-o-perspective-origin",i),t.css("perspective-origin",i)},o.prototype.trans3d=function(t,e,o,i){var r=this.getTransform(t);r=r.replace(/matrix3d\(.*?\)/,"").replace("none","");var n=" translate3d("+e+"px, "+o+"px, "+i+"px)";this.setTransform(t,r+n)},o.prototype.scale3d=function(t,e){var o=this.getTransform(t);o=o.replace(/matrix3d\(.*?\)/,"").replace("none","");var i=" scale3d("+e+", "+e+", "+z+")";this.setTransform(t,o+i)},o.prototype.rotate3d=function(t,e,o,i,r){var n=this.getTransform(t);n=n.replace(/matrix3d\(.*?\)/,"").replace("none","");var s=" rotate3d("+e+", "+o+", "+i+", "+r+"deg)";this.setTransform(t,n+s)},o.prototype.rotate3dx=function(t,e){this.rotate3d(t,1,0,0,e)},o.prototype.rotate3dy=function(t,e){this.rotate3d(t,0,1,0,e)},o.prototype.rotate3dz=function(t,e){this.rotate3d(t,0,0,1,e)},o.prototype.addFilter=function(t,e){var o=this.getFilter(t);o=o.replace("none","");var i=o+" "+e;this.setFilter(t,i)},o.prototype.setFilter=function(t,e){t.css("-webkit-filter",e),t.css("-moz-filter",e),t.css("-ms-filter",e),t.css("-o-filter",e),t.css("filter",e)},o.prototype.getFilter=function(t){for(var e=["filter","-webkit-filter","-moz-filter","-ms-filter","-o-filter"],o=0;o<e.length;o++){var i=t.css(e[o]);if("none"==i&&o+1<e.length){var r=t.css(e[o+1]);if(r)continue}return i}},o.prototype.clearFilters=function(t){t.css("-webkit-filter",""),t.css("-moz-filter",""),t.css("-ms-filter",""),t.css("-o-filter",""),t.css("filter","")},o.prototype.grayscale=function(t,e){var o=this.getFilter(t);o=o.replace(/grayscale\(.*?\)/,"").replace("none","");var i=" grayscale("+e+"%)";this.setFilter(t,o+i)},o.prototype.sepia=function(t,e){var o=this.getFilter(t);o=o.replace(/sepia\(.*?\)/,"").replace("none","");var i=" sepia("+e+"%)";this.setFilter(t,o+i)},o.prototype.saturate=function(t,e){var o=this.getFilter(t);o=o.replace(/saturate\(.*?\)/,"").replace("none","");var i=" saturate("+e+"%)";this.setFilter(t,o+i)},o.prototype.invert=function(t,e){var o=this.getFilter(t);o=o.replace(/invert\(.*?\)/,"").replace("none","");var i=" invert("+e+"%)";this.setFilter(t,o+i)},o.prototype.hutate=function(t,e){var o=this.getFilter(t);o=o.replace(/hue-rotate\(.*?\)/,"").replace("none","");var i=" hue-rotate("+e+"deg)";this.setFilter(t,o+i)},o.prototype.opace=function(t,e){var o=this.getFilter(t);o=o.replace(/opacity\(.*?\)/,"").replace("none","");var i=" opacity("+e+"%)";this.setFilter(t,o+i)},o.prototype.brightness=function(t,e){var o=this.getFilter(t);o=o.replace(/brightness\(.*?\)/,"").replace("none","");var i=" brightness("+e+"%)";this.setFilter(t,o+i)},o.prototype.contrast=function(t,e){var o=this.getFilter(t);o=o.replace(/contrast\(.*?\)/,"").replace("none","");var i=" contrast("+e+"%)";this.setFilter(t,o+i)},o.prototype.blur=function(t,e){var o=this.getFilter(t);o=o.replace(/blur\(.*?\)/,"").replace("none","");var i=" blur("+e+"px)";this.setFilter(t,o+i)}},{}],15:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.specificModelName=i.LOCKER}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],16:[function(t){$(function(){function e(){R=new m({x:-25,y:5,z:-25},20),B=new m({x:25,y:5,z:-25},20),N=[R,B];for(var t=0;t<N.length;t++)N[t].addTo(E);F=new x({x:0,y:-70,z:-140},18),F.addTo(E,function(){F.mesh.scale.x*=1.5});for(var t=0;2>t;t++){var e;0==t?e={x:-50,y:20,z:0}:1==t&&(e={x:50,y:20,z:0});var i=new b(e,10);i.addTo(E),Y.push(i)}for(var t=0;3>t;t++){var e;0==t?e={x:0,y:68,z:-100}:1==t?e={x:-130,y:-66,z:-150}:2==t&&(e={x:130,y:-66,z:-150});var r=new _(e,10);r.addTo(E,function(t){t.mesh.position.y<0&&t.rotate(0,Math.PI/2,0)}),D.push(r)}O.cam.position.set(0,6,110),y.begin(R,B,O.cam,L),o(),$("body").keypress(function(t){console.log(t.which),32==t.which?n():113==t.which?h():122==t.which?P.camera=!P.camera:120==t.which?(R.melting=!R.melting,B.melting=!B.melting):99==t.which&&(P.lighting=!P.lighting)})}function o(){requestAnimationFrame(o),P.wrestlers&&N.forEach(function(t){t.render()}),P.character&&mainCharacterModel.render(),P.sliding&&l(),P.lighting&&s(),P.camera&&a(),Y.forEach(function(t){t.render()}),X.forEach(function(t){t.render()}),I&&I.update(.005),O.render(),c.render(E,O.cam)}function r(){for(i=E.children.length-1;i>=0;i--){var t=E.children[i];t!==O.cam&&t!==H&&t!==L&&E.remove(t)}}function n(){N.forEach(function(t){t.reset()}),S.startedShower?O.cam.position.set(0,1,0):O.cam.position.set(0,6,110)}function s(){Z||(Z={}),Z.movingUp?(H.position.y+=1,H.position.z>400&&(Z.movingUp=!1)):(H.position.y-=1,H.position.z<50&&(Z.movingUp=!0)),H.intensity=5*Math.random(),H.position.x+=20*(Math.random()-.5),H.position.z+=20*(Math.random()-.5);var t=Math.random();H.color.setRGB(t,t,t)}function a(){var t=1*(Math.random()-.5),e=.5*(Math.random()-.5),o=1*(Math.random()-.5);O.cam.position.x+=t,O.cam.position.y+=e,O.cam.position.z+=o}function l(){N.forEach(function(t){j.left?t.move(-1,0,0):t.move(1,0,0)}),j.moveCount++,j.moveCount>40&&(j.moveCount=0,j.left=!j.left)}function h(){function t(){$(".overlay").fadeIn(9e3,function(){e()})}function e(){r(),c.setClearColor(16777113,1),O.cam.position.set(0,1,0),k=new u({x:0,y:0,z:-10},1.15),k.addTo(E);for(var t=0;4>t;t++){var e=0;e=2>t?4*(t-2):4*(t-1);var i=new v({x:e,y:2,z:-25},.35);i.addTo(E),C.push(i)}$(".overlay").fadeOut(5e3,function(){o()})}function o(){function t(){var e,o={x:10*(Math.random()-.5),y:p.randInt(12,8),z:-10*Math.random()-2},r=1;Math.random()<.99999?(r=.3*Math.random()+.05,e=new g(o,r)):(r=.2,e=new w(o,r)),e.addTo(E),e.fallToFloor(),X.push(e),X.length<44?setTimeout(t,1e3):i()}t()}function i(){function t(){e*=1.03,X.forEach(function(t){t.scaleMultiply(e),t.move(.03*e,.025*e,0)}),O.cam.position.z=Math.min(60,O.cam.position.z+.05),666>e?setTimeout(t,30):n()}X.forEach(function(t){t.melting=!0});var e=1.05;t()}function n(){function t(){$(".overlay").css("background-color","rgb(160, 10, 10)"),$(".overlay").fadeIn(5e3,function(){e()})}function e(){r(),c.setClearColor(0,1),O.cam.position.set(0,0,0);var t={positionStyle:Type.CUBE,positionBase:new THREE.Vector3(0,50,0),positionSpread:new THREE.Vector3(200,200,200),velocityStyle:Type.CUBE,velocityBase:new THREE.Vector3(0,-400,0),velocitySpread:new THREE.Vector3(50,50,50),accelerationBase:new THREE.Vector3(0,-5,0),particleTexture:THREE.ImageUtils.loadTexture("images/raindrop2flip.png"),sizeBase:4,sizeSpread:2,colorBase:new THREE.Vector3(.66,1,.7),colorSpread:new THREE.Vector3(0,0,.2),opacityBase:.6,particlesPerSecond:3600,particleDeathAge:1,emitterDeathAge:60};I=new ParticleEngine,I.setValues(t),I.initialize(E);var e=new g({x:0,y:5,z:-64},3);e.addTo(E),setInterval(function(){e.rotate(0,.02,0)},20);var o=new _({x:0,y:0,z:-50},4);o.addTo(E),P.lighting=!1,$(".overlay").fadeOut(5e3)}setTimeout(function(){t()},1e4)}if(!S.startedShower){S.startedShower=!0,B.discombobulate(function(){}),R.discombobulate(function(){var e=setInterval(function(){O.cam.position.z+=.85,O.cam.position.z>555&&(clearInterval(e),t())},20)});var s=[F];Y.forEach(function(t){s.push(t)}),D.forEach(function(t){s.push(t)}),s.forEach(function(t){t.fallToFloor(-200,5)})}}var c,p=t("./lib/kutility"),f=t("./camera"),m=t("./character"),d=t("./skybox"),y=t("./io"),u=t("./shower"),v=t("./locker"),g=t("./phone"),w=t("./computer"),x=t("./boxing_ring"),b=t("./fitness_tower"),_=t("./weights"),E=new THREE.Scene;try{c=new THREE.WebGLRenderer,c.setClearColor(1118481,1)}catch(T){$(".error").show()}c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement);var z=document.querySelector("canvas"),M=($(z),new d);M.addTo(E);var O=new f(window,E),H=new THREE.SpotLight(16777215,5);H.position.set(0,200,-25),H.castShadow=!0,E.add(H);var L=new THREE.SpotLight(16777215,1);L.castShadow=!0,L.position.set(0,100,-25),E.add(L);var A=new THREE.AmbientLight(15658751);A.intensity=.4;var R,B,F,k,I,P={wrestlers:!0,lighting:!0,sliding:!1,camera:!1},S={},N=[],Y=[],D=[],j={left:!0,moveCount:0},C=[],X=[];e();var Z={}})},{"./boxing_ring":4,"./camera":5,"./character":6,"./computer":7,"./fitness_tower":8,"./io":12,"./lib/kutility":14,"./locker":15,"./phone":18,"./shower":19,"./skybox":20,"./weights":21}],17:[function(t,e){function o(t){return i+t}var i="/js/models/";e.exports.ANIMAL_LEGS=o("animal_legs.js"),e.exports.BABY_LEG=o("baby_leg.js"),e.exports.FOOTBALL_LEG=o("football_leg.js"),e.exports.LOWPOLY_LEG=o("low_poly_leg.js"),e.exports.ANIME_HEAD=o("anime_heads.js"),e.exports.HEAD=o("head.js"),e.exports.BABY_HEAD=o("baby_head.js"),e.exports.FOOTBALL_HEAD=o("football_head.js"),e.exports.LOWPOLY_HEAD=o("low_poly_head.js"),e.exports.ARM=o("arm.js"),e.exports.ARMS=o("arms.js"),e.exports.BABY_ARM=o("baby_arm.js"),e.exports.FOOTBALL_ARM=o("football_arm.js"),e.exports.LOWPOLY_ARM=o("low_poly_arm.js"),e.exports.CHILD=o("child.js"),e.exports.FEMALE=o("female.js"),e.exports.MALE=o("male.js"),e.exports.TORSO=o("torso.js"),e.exports.FOOTBALL_PLAYER=o("football_player.js"),e.exports.BABY_TORSO=o("baby_torso.js"),e.exports.FOOTBALL_TORSO=o("football_torso.js"),e.exports.LOWPOLY_TORSO=o("low_poly_torso.js"),e.exports.HAND=o("hand.js"),e.exports.FOOTBALL_HAND=o("football_hand.js"),e.exports.FOOT=o("foot.js"),e.exports.FOOTBALL_FOOT=o("football_foot.js"),e.exports.BOXING_RING=o("boxing_ring.js"),e.exports.FITNESS_TOWER=o("fitness_tower.js"),e.exports.IPHONE=o("iPhone.js"),e.exports.PHONE=o("phone.js"),e.exports.OFFICE_PHONE=o("office_phone.js"),e.exports.LAPTOP=o("laptop.js"),e.exports.SHOWER=o("shower.js"),e.exports.LOCKER=o("locker.js"),e.exports.WEIGHTS=o("weights.js"),e.exports.loadModel=function(t,e){var o=new THREE.JSONLoader;o.load(t,function(t,o){e(t,o)})}},{}],18:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.modelChoices=[i.IPHONE]}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){}
},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],19:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.specificModelName=i.SHOWER}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype,o.prototype.additionalInit=function(){this.rotate(0,Math.PI,0)}},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}],20:[function(t,e){function o(){var t=15e3,e=22;this.geometry=new THREE.BoxGeometry(t,t,t,e,e,e),this.material=new THREE.MeshBasicMaterial({color:7829367,wireframe:!0,wireframeLinewidth:.2,opacity:.15,transparent:!0}),this.mesh=new THREE.Mesh(this.geometry,this.material)}e.exports=o,o.prototype.addTo=function(t){t.add(this.mesh)}},{}],21:[function(t,e){function o(t,e){t||(t={x:0,y:0,z:0}),this.startX=t.x,this.startY=t.y,this.startZ=t.z,this.scale=e||1,this.specificModelName=i.WEIGHTS}var i=(t("./lib/kutility"),t("./model_names")),r=t("./bodypart");e.exports=o,o.prototype.__proto__=r.prototype},{"./bodypart":3,"./lib/kutility":14,"./model_names":17}]},{},[16]);